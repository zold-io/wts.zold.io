%p
  %img{style: 'display:inline-block', src: '/graph.svg?keys=Fund+Deficit&div=100000000&digits=0'}
  %img{style: 'display:inline-block', src: '/graph.svg?keys=Emission+Office&div=4294967296&digits=0'}
  %img{style: 'display:inline-block', src: '/graph.svg?keys=Rate+Coverage&div=1&digits=0'}
  %img{style: 'display:inline-block', src: '/graph.svg?keys=Value+Pledge&div=100&digits=2'}

%p
  Total Fund (F):
  %code
    = format('%0.4f', formula[:bank])
    BTC
  = '/'
  = "$#{format('%d', formula[:bank] * formula[:price])}"
  at the current
  %a{href: 'https://blockchain.info/ticker'} market price
  %br
  %span.small
    This is how much we have in our bitcoin wallet in Coinbase.

%p
  Total Emission (E):
  %code
    = formula[:root]
  %br
  %span.small
    This is the total negative balance in the
    %a{href: 'http://www.zold.io/ledger.html?wallet=' + Zold::Id::ROOT.to_s} root
    wallet.

%p
  Owned by Zerocracy Office (Z):
  %code
    = formula[:boss]
  %br
  %span.small
    This is how much is
    %a{href: 'http://www.zold.io/ledger.html?wallet=' + formula[:boss_wallet]} still owned
    by Zerocracy out of the total emission.

%p
  Coverage:
  %code
    = format('%0.8f', formula[:rate])
  BTC per ZLD
  = format('(%d%% of the exchange rate)', formula[:rate] / rate * 100)
  %br
  %span.small
    It is equal to
    %em F / (E - Z)

%p
  Exchange Rate:
  %code
    = format('%0.8f', rate)
  = '/'
  = "$#{format('%0.2f', rate * formula[:price])}"
  at the current
  %a{href: 'https://blockchain.info/ticker'} market price
  %br
  %span.small
    This rate is used in all
    %a{href: 'https://blog.zold.io/2018/12/09/btc-to-zld.html'} ZLD-to-BTC exchange
    operations.

%p
  Exchange fee:
  %code
    = format('%0.2f%%', fee * 100)
  %br
  %span.small
    Only the seller pays it.

- if formula[:deficit] > 0
  %p
    Fund
    = succeed ':' do
      %span{style: 'color: darkred'} deficit
    %code
      = format('%0.4f', formula[:deficit])
      BTC
    %br
    %span.small
      This is how much Zerocracy has to add to the fund in order to make the effective rate trustable.

%p
  The information was updated
  = Zold::Age.new(mtime)
  ago.
  Read
  %a{href: 'http://papers.zold.io/fin-model.pdf'} this PDF
  to understand what these numbers mean.
